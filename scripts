# Scripts

## Scraper module
### Scraping Screenplays
`Dave.scraper.DiscoveryOne` scrapes from IMSDB using BeautifulSoup
```py
from DAVE.scraper import DiscoveryOne, Sentinel
DiscoveryOne.crawl(path, directory='.', pattern=GENRE):
```

### Parse
`DAVE.scraper.Sentinel`  and parses screenplays into subsections: headings, transitions, actions, parentheticals, and dialogue, to be further prepared into Markov models.
```py
Sentinel.parse(*sources, destination='.', write=True)
```

Or, parse recursively using `Sentinel.parse_directory`
```py
Sentinel.parse_directory(source='.', destination='parsed_categories', genre='All')`
```

## NLP module
### Serialize markov models
`DAVE.nlp.HAL` generates Markov chains from the parsed categories made by `DAVE.scraper.Sentinel` and serializes the models into JSON.

To create the Markov models:
```py
from DAVE.nlp.HAL import HAL
HAL.generate_models(source_dir='parsed_categories', target_dir='.')
```

### Generate screenplays
`DAVE.nlp.Stanley` generates formatted screenplays using Markov chains.

```py
from DAVE.nlp.Stanley import Stanley
characters = ['bob', 'bobby', 'bobra', 'bobert']
source = ['DAVE/nlp/markov_models/Western']

director = Stanley(source, characters, target='output', title='Untitled', author='Anonymous')
director.direct(length=100)
```